<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.claude.wmall.jxc.dao.recManage.CustomerRecDao" >
	<resultMap id="BaseResultMap" type="com.claude.wmall.jxc.domain.recManage.CustomerRec" >
		<!--
			  WARNING - @mbggenerated
			  This element is automatically generated by MyBatis Generator, do not modify.
			  This element was generated on Wed Aug 17 17:17:07 CST 2016.
			-->
		<id column="id" property="id" jdbcType="VARCHAR" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="shortname" property="shortname" jdbcType="VARCHAR" />
		<result column="customer_type_id" property="customerTypeId" jdbcType="INTEGER" />
		<result column="area_province" property="areaProvince" jdbcType="VARCHAR" />
		<result column="area_city" property="areaCity" jdbcType="VARCHAR" />
		<result column="area_county" property="areaCounty" jdbcType="VARCHAR" />
		<result column="industry" property="industry" jdbcType="VARCHAR" />
		<result column="level" property="level" jdbcType="VARCHAR" />
		<result column="legalperson" property="legalperson" jdbcType="VARCHAR" />
		<result column="Contacts" property="contacts" jdbcType="VARCHAR" />
		<result column="telephone" property="telephone" jdbcType="VARCHAR" />
		<result column="salesman_id" property="salesmanId" jdbcType="INTEGER" />
		<result column="currency" property="currency" jdbcType="VARCHAR" />
		<result column="bank" property="bank" jdbcType="VARCHAR" />
		<result column="account" property="account" jdbcType="VARCHAR" />
		<result column="Region_id" property="regionId" jdbcType="INTEGER" />
		<result column="address" property="address" jdbcType="VARCHAR" />
		<result column="create_user_id" property="createUserId" jdbcType="INTEGER" />
		<result column="create_date" property="createDate" jdbcType="DATE" />
		<result column="update_date" property="updateDate" jdbcType="DATE" />
	    <result column="approval_status" jdbcType="CHAR" property="approvalStatus" />

	</resultMap>
	<sql id="Base_Column_List" >
		<!--
			  WARNING - @mbggenerated
			  This element is automatically generated by MyBatis Generator, do not modify.
			  This element was generated on Wed Aug 17 17:17:07 CST 2016.
			-->
    id, name, shortname, customer_type_id, area_province, area_city, area_county, industry, 
    level, legalperson, Contacts, telephone, salesman_id, currency, bank, account, Region_id, 
    address, create_user_id, create_date, update_date, approval_status
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
		<!--
			  WARNING - @mbggenerated
			  This element is automatically generated by MyBatis Generator, do not modify.
			  This element was generated on Wed Aug 17 17:17:07 CST 2016.
			-->
    select 
		<include refid="Base_Column_List" />
    from t_customer
    where id = #{id,jdbcType=VARCHAR}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
		<!--
			  WARNING - @mbggenerated
			  This element is automatically generated by MyBatis Generator, do not modify.
			  This element was generated on Wed Aug 17 17:17:07 CST 2016.
			-->
    delete from t_customer
    where id = #{id,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.claude.wmall.jxc.domain.recManage.CustomerRec" >
		<!--
			  WARNING - @mbggenerated
			  This element is automatically generated by MyBatis Generator, do not modify.
			  This element was generated on Wed Aug 17 17:17:07 CST 2016.
			-->
    insert into t_customer (id, name, shortname, 
      customer_type_id, area_province, area_city, 
      area_county, industry, level, 
      legalperson, Contacts, telephone, 
      salesman_id, currency, bank, 
      account, Region_id, address, 
      create_user_id, create_date, update_date,approval_status
      )
    values (#{id,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, #{shortname,jdbcType=VARCHAR}, 
      #{customerTypeId,jdbcType=INTEGER}, #{areaProvince,jdbcType=VARCHAR}, #{areaCity,jdbcType=VARCHAR}, 
      #{areaCounty,jdbcType=VARCHAR}, #{industry,jdbcType=VARCHAR}, #{level,jdbcType=VARCHAR}, 
      #{legalperson,jdbcType=VARCHAR}, #{contacts,jdbcType=VARCHAR}, #{telephone,jdbcType=VARCHAR}, 
      #{salesmanId,jdbcType=INTEGER}, #{currency,jdbcType=VARCHAR}, #{bank,jdbcType=VARCHAR}, 
      #{account,jdbcType=VARCHAR}, #{regionId,jdbcType=INTEGER}, #{address,jdbcType=VARCHAR}, 
      #{createUserId,jdbcType=INTEGER}, #{createDate,jdbcType=DATE}, #{updateDate,jdbcType=DATE}, #{approvalStatus,jdbcType=CHAR}
      )
	</insert>
	<insert id="insertSelective" parameterType="com.claude.wmall.jxc.domain.recManage.CustomerRec" >
		<!--
			  WARNING - @mbggenerated
			  This element is automatically generated by MyBatis Generator, do not modify.
			  This element was generated on Wed Aug 17 17:17:07 CST 2016.
			-->
    insert into t_customer
		<trim prefix="(" suffix=")" suffixOverrides="," >
			<if test="id != null" >
        id,
			</if>
			<if test="name != null" >
        name,
			</if>
			<if test="shortname != null" >
        shortname,
			</if>
			<if test="customerTypeId != null" >
        customer_type_id,
			</if>
			<if test="areaProvince != null" >
        area_province,
			</if>
			<if test="areaCity != null" >
        area_city,
			</if>
			<if test="areaCounty != null" >
        area_county,
			</if>
			<if test="industry != null" >
        industry,
			</if>
			<if test="level != null" >
        level,
			</if>
			<if test="legalperson != null" >
        legalperson,
			</if>
			<if test="contacts != null" >
        Contacts,
			</if>
			<if test="telephone != null" >
        telephone,
			</if>
			<if test="salesmanId != null" >
        salesman_id,
			</if>
			<if test="currency != null" >
        currency,
			</if>
			<if test="bank != null" >
        bank,
			</if>
			<if test="account != null" >
        account,
			</if>
			<if test="regionId != null" >
        Region_id,
			</if>
			<if test="address != null" >
        address,
			</if>
			<if test="createUserId != null" >
        create_user_id,
			</if>
			<if test="createDate != null" >
        create_date,
			</if>
			<if test="updateDate != null" >
        update_date,
			</if>
			<if test="approval_status != null" >
        approval_status,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides="," >
			<if test="id != null" >
        #{id,jdbcType=VARCHAR},
			</if>
			<if test="name != null" >
        #{name,jdbcType=VARCHAR},
			</if>
			<if test="shortname != null" >
        #{shortname,jdbcType=VARCHAR},
			</if>
			<if test="customerTypeId != null" >
        #{customerTypeId,jdbcType=INTEGER},
			</if>
			<if test="areaProvince != null" >
        #{areaProvince,jdbcType=VARCHAR},
			</if>
			<if test="areaCity != null" >
        #{areaCity,jdbcType=VARCHAR},
			</if>
			<if test="areaCounty != null" >
        #{areaCounty,jdbcType=VARCHAR},
			</if>
			<if test="industry != null" >
        #{industry,jdbcType=VARCHAR},
			</if>
			<if test="level != null" >
        #{level,jdbcType=VARCHAR},
			</if>
			<if test="legalperson != null" >
        #{legalperson,jdbcType=VARCHAR},
			</if>
			<if test="contacts != null" >
        #{contacts,jdbcType=VARCHAR},
			</if>
			<if test="telephone != null" >
        #{telephone,jdbcType=VARCHAR},
			</if>
			<if test="salesmanId != null" >
        #{salesmanId,jdbcType=INTEGER},
			</if>
			<if test="currency != null" >
        #{currency,jdbcType=VARCHAR},
			</if>
			<if test="bank != null" >
        #{bank,jdbcType=VARCHAR},
			</if>
			<if test="account != null" >
        #{account,jdbcType=VARCHAR},
			</if>
			<if test="regionId != null" >
        #{regionId,jdbcType=INTEGER},
			</if>
			<if test="address != null" >
        #{address,jdbcType=VARCHAR},
			</if>
			<if test="createUserId != null" >
        #{createUserId,jdbcType=INTEGER},
			</if>
			<if test="createDate != null" >
        #{createDate,jdbcType=DATE},
			</if>
			<if test="updateDate != null" >
        #{updateDate,jdbcType=DATE},
			</if>
			<if test="approval_status != null" >
        #{approvalStatus,jdbcType=CHAR},
			</if>
		</trim>
	</insert>
	
	<update id="updateStatusById" parameterType="com.claude.wmall.jxc.domain.recManage.CustomerRec" >
	
    update t_customer
		<set >
        approval_status = #{approvalStatus,jdbcType=CHAR},
		</set>
    where id = #{id,jdbcType=VARCHAR}
	</update>
	
	
	
	<update id="updateByPrimaryKeySelective" parameterType="com.claude.wmall.jxc.domain.recManage.CustomerRec" >
		<!--
			  WARNING - @mbggenerated
			  This element is automatically generated by MyBatis Generator, do not modify.
			  This element was generated on Wed Aug 17 17:17:07 CST 2016.
			-->
    update t_customer
		<set >
			<if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
			</if>
			<if test="shortname != null" >
        shortname = #{shortname,jdbcType=VARCHAR},
			</if>
			<if test="customerTypeId != null" >
        customer_type_id = #{customerTypeId,jdbcType=INTEGER},
			</if>
			<if test="areaProvince != null" >
        area_province = #{areaProvince,jdbcType=VARCHAR},
			</if>
			<if test="areaCity != null" >
        area_city = #{areaCity,jdbcType=VARCHAR},
			</if>
			<if test="areaCounty != null" >
        area_county = #{areaCounty,jdbcType=VARCHAR},
			</if>
			<if test="industry != null" >
        industry = #{industry,jdbcType=VARCHAR},
			</if>
			<if test="level != null" >
        level = #{level,jdbcType=VARCHAR},
			</if>
			<if test="legalperson != null" >
        legalperson = #{legalperson,jdbcType=VARCHAR},
			</if>
			<if test="contacts != null" >
        Contacts = #{contacts,jdbcType=VARCHAR},
			</if>
			<if test="telephone != null" >
        telephone = #{telephone,jdbcType=VARCHAR},
			</if>
			<if test="salesmanId != null" >
        salesman_id = #{salesmanId,jdbcType=INTEGER},
			</if>
			<if test="currency != null" >
        currency = #{currency,jdbcType=VARCHAR},
			</if>
			<if test="bank != null" >
        bank = #{bank,jdbcType=VARCHAR},
			</if>
			<if test="account != null" >
        account = #{account,jdbcType=VARCHAR},
			</if>
			<if test="regionId != null" >
        Region_id = #{regionId,jdbcType=INTEGER},
			</if>
			<if test="address != null" >
        address = #{address,jdbcType=VARCHAR},
			</if>
			<if test="createUserId != null" >
        create_user_id = #{createUserId,jdbcType=INTEGER},
			</if>
			<if test="createDate != null" >
        create_date = #{createDate,jdbcType=DATE},
			</if>
			<if test="updateDate != null" >
        update_date = #{updateDate,jdbcType=DATE},
			</if>
			<if test="approval_status != null" >
        approval_status = #{approvalStatus,jdbcType=CHAR},
			</if>
		</set>
    where id = #{id,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.claude.wmall.jxc.domain.recManage.CustomerRec" >
    update t_customer
    set name = #{name,jdbcType=VARCHAR},
      shortname = #{shortname,jdbcType=VARCHAR},
      customer_type_id = #{customerTypeId,jdbcType=INTEGER},
      area_province = #{areaProvince,jdbcType=VARCHAR},
      area_city = #{areaCity,jdbcType=VARCHAR},
      area_county = #{areaCounty,jdbcType=VARCHAR},
      industry = #{industry,jdbcType=VARCHAR},
      level = #{level,jdbcType=VARCHAR},
      legalperson = #{legalperson,jdbcType=VARCHAR},
      Contacts = #{contacts,jdbcType=VARCHAR},
      telephone = #{telephone,jdbcType=VARCHAR},
      salesman_id = #{salesmanId,jdbcType=INTEGER},
      currency = #{currency,jdbcType=VARCHAR},
      bank = #{bank,jdbcType=VARCHAR},
      account = #{account,jdbcType=VARCHAR},
      Region_id = #{regionId,jdbcType=INTEGER},
      address = #{address,jdbcType=VARCHAR},
      create_user_id = #{createUserId,jdbcType=INTEGER},
      create_date = #{createDate,jdbcType=DATE},
      update_date = #{updateDate,jdbcType=DATE},
      approval_status = #{approvalStatus,jdbcType=CHAR}
    where id = #{id,jdbcType=VARCHAR}
	</update>
 
	<select id="selectListByPage" parameterType="com.claude.wmall.jxc.domain.recManage.CustomerRec"
		resultType="com.claude.wmall.jxc.domain.recManage.CustomerRec">
   select a.id id,a.name name,b.mb_name customerTypeName,a.area_province areaProvince,a.area_city areaCity,a.area_county areaCounty,a.industry industry,a.contacts Contacts,a.telephone telephone,a.legalperson legalperson,c.vRealName salesmanName,(CASE a.approval_status WHEN 0 THEN '未审核' WHEN 1 THEN '通过' WHEN 2 THEN '不通过' END) approvalStatusName 
       from t_customer a,t_mb b,t_user c where a.customer_type_id=b.mb_id and a.salesman_id =c.id 
        <if test="id != null and id!='' and id!=0"   >
        and a.id like concat(concat('%',#{id,jdbcType=VARCHAR}),'%')
		</if>
       <if test="name != null and name!=''" >
        and a.name like concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
		</if>
		<if test="customerTypeId != null and customerTypeId!='' and customerTypeId!=999" >
        and  a.customer_type_id = #{customerTypeId,jdbcType=INTEGER}
		</if>
		<if test="areaProvince != null and areaProvince!=''" >
        and a.area_province = #{areaProvince,jdbcType=VARCHAR}
		</if>
		<if test="areaCity != null and areaCity!=''" >
        and a.area_city = #{areaCity,jdbcType=VARCHAR}
		</if>
		<if test="areaCounty != null and areaCounty!=''" >
        and a.area_county = #{areaCounty,jdbcType=VARCHAR}
		</if>
		<if test="regionId != null and regionId!='' and regionId!=999" >
        and a.Region_id = #{regionId,jdbcType=INTEGER}
		</if>
		<if test="approvalStatus != null and approvalStatus!='' and regionId!=999" >
        and a.approval_status = #{approvalStatus,jdbcType=CHAR}
		</if>
		order by a.approval_status 
	</select>
</mapper>